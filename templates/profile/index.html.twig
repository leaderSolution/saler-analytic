{% extends 'dashboard.html.twig' %}

{% block title %}Hello ProfileController!{% endblock %}

{% block content %}

        {% include "top-bar.html.twig" with {'title':'Profile Details','btn':''} %}

        <div class="row g-5">
            <div class="col-md-5 col-lg-4 order-md-last">
                <h4 class="d-flex justify-content-between align-items-center mb-3">
                    <span class="text-primary">Clients</span>
                    <span class="badge bg-primary rounded-pill">{{ allClients }}</span>
                </h4>
                <ul class="list-group mb-3">
                    {% if clients is not empty %}
                        {% for c in clients %}
                            <a href="{{ path('client_edit', {'id': c.id}) }}" class="list-group-item d-flex justify-content-between lh-sm">
                                <div>
                                    <h6 class="my-0">{% if c.designation is null %}{{ c.codeUniq }}{% else %}{{ c.designation }}{% endif %}</h6>
                                    <small class="text-muted">{{ c.email }}</small>
                                </div>
                                <span class="text-muted">{{ c.visits|length }} visits</span>
                            </a>
                        {% endfor %}
                    {% else %}
                        <li class="list-group-item d-flex justify-content-between lh-sm">
                            <div>
                                <h6 class="my-0">None</h6>
                            </div>
                        </li>
                    {% endif %}

                </ul>

{#                <form class="card p-2">#}
{#                    <div class="input-group">#}
{#                        <input type="text" class="form-control" placeholder="Promo code">#}
{#                        <button type="submit" class="btn btn-secondary">Redeem</button>#}
{#                    </div>#}
{#                </form>#}
            </div>
            <div class="col-md-7 col-lg-8">
                <h4 class="mb-3">General Information</h4>
                 {{ form_start(form, {'attr': {'class':'needs-validation','novalidate':''}}) }}
                    <div class="row g-3">
                        <div class="col-sm-6">
                            {{ form_row(form.firstname)}}
                        </div>

                        <div class="col-sm-6">
                            {{ form_row(form.lastname)}}
                        </div>

                        <div class="col-6">
                            {{ form_row(form.cin)}}
                        </div>
                    </div>

                    <hr class="my-4">

                    <h4 class="mb-3">Contact details</h4>

                    <div class="row gy-3">
                        <div class="col-md-6">
                            {{ form_row(form.email)}}
                        </div>
                        <div class="col-md-4">
                            {{ form_row(form.password)}}
                        </div>
                    </div>
                    <div class="row gy-3">
                        <div class="col-md-6">
                            {{ form_row(form.phone)}}
                        </div>
                    </div>
                    <div class="row gy-3">
                        <div class="col-6">
                            {{ form_row(form.address.fullAddress)}}
                        </div>

                    </div>
                    <div class="row gy-3">

                        <div class="col-md-6">
                            {{ form_row(form.address.city)}}
                        </div>

                        <div class="col-md-3">
                            {{ form_row(form.address.street)}}
                        </div>

                        <div class="col-md-3">
                            {{ form_row(form.address.zip)}}
                        </div>
                    </div>

                    <hr class="my-4">

                    <button class="w-100 btn btn-primary btn-lg" type="submit">Save update</button>
                {{ form_end(form) }}
            </div>
        </div>


{% endblock %}
